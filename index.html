<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="description" content="CONI — Gestion HACCP et sécurité alimentaire">
<meta name="theme-color" content="#0F172A">
<meta name="referrer" content="strict-origin-when-cross-origin">
<title>CONI</title>
<link rel="icon" type="image/svg+xml" href="/icon.svg">
<link rel="manifest" href="/manifest.json">
<link rel="apple-touch-icon" href="/icon.svg">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
<noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=Space+Grotesk:wght@500;600;700&display=swap"></noscript>
<link rel="stylesheet" href="css/style.css">
<script src="js/supabase.min.js"></script>
</head>
<body>
<div id="app">
  <div style="display:flex;align-items:center;justify-content:center;min-height:100vh">
    <div class="loading" style="width:40px;height:40px;border-width:4px"></div>
  </div>
</div>

<!-- Modal container -->
<div id="modalOverlay" class="modal-overlay" role="dialog" aria-modal="true" onclick="if(event.target===this)closeModal()">
  <div class="modal" id="modalContent"></div>
</div>

<!-- Sidebar backdrop (mobile) -->
<div id="sidebarBackdrop" class="sidebar-backdrop" onclick="toggleSidebar()"></div>

<!-- ═══════════════════════════════════════════════════════════════════
     SCRIPTS — defer preserve l'ordre d'execution sans bloquer le rendu
     ═══════════════════════════════════════════════════════════════════ -->

<!-- Core -->
<script defer src="js/config.js"></script>
<script defer src="js/auth.js"></script>
<script defer src="js/data.js"></script>
<script defer src="js/sites.js"></script>
<script defer src="js/ui.js"></script>
<script defer src="js/render.js"></script>
<script defer src="js/bottomnav.js"></script>

<!-- Pages -->
<script defer src="js/pages/dashboard.js"></script>
<script defer src="js/pages/temperatures.js"></script>
<script defer src="js/pages/dlc.js"></script>
<script defer src="js/pages/orders.js"></script>
<script defer src="js/pages/consignes.js"></script>
<script defer src="js/pages/reports.js"></script>
<script defer src="js/pages/settings.js"></script>
<script defer src="js/pages/site-management.js"></script>
<script defer src="js/pages/user-management.js"></script>
<script defer src="js/pages/team.js"></script>
<script defer src="js/pages/profile.js"></script>
<script defer src="js/pages/notifications.js"></script>
<script defer src="js/pages/legal.js"></script>
<script defer src="js/pages/cleaning.js"></script>

<!-- Handlers & Init -->
<script defer src="js/handlers.js"></script>
<script defer src="js/app.js"></script>

</body>
</html>
