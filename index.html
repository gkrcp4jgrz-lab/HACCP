<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<meta name="description" content="HACCP Pro — Gestion de la sécurité alimentaire professionnelle">
<meta name="theme-color" content="#1e1e2e">
<meta http-equiv="X-Content-Type-Options" content="nosniff">
<meta http-equiv="X-Frame-Options" content="DENY">
<meta name="referrer" content="strict-origin-when-cross-origin">
<title>HACCP Pro</title>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🛡️</text></svg>">
<link rel="manifest" href="manifest.json">
<link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🛡️</text></svg>">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:opsz,wght@14..32,400;14..32,500;14..32,600;14..32,700;14..32,800;14..32,900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/style.css">
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
<div id="app">
  <div style="display:flex;align-items:center;justify-content:center;min-height:100vh">
    <div class="loading" style="width:40px;height:40px;border-width:4px"></div>
  </div>
</div>

<!-- Modal container -->
<div id="modalOverlay" class="modal-overlay" onclick="if(event.target===this)closeModal()">
  <div class="modal" id="modalContent"></div>
</div>

<!-- Sidebar backdrop (mobile) -->
<div id="sidebarBackdrop" class="sidebar-backdrop" onclick="toggleSidebar()"></div>

<!-- ═══════════════════════════════════════════════════════════════════
     SCRIPTS — Ordre de chargement important !
     1. Config (Supabase + State + Helpers)
     2. Auth (login/register/logout)
     3. Data (CRUD operations)
     4. Sites (site/equipment/supplier management)
     5. UI (photos, signature, modals, navigation, PDF)
     6. Render (moteur de rendu + sidebar + routing)
     7. Pages (chaque page indépendante)
     8. Handlers (tous les window.handleXxx)
     9. App (initialisation)
     ═══════════════════════════════════════════════════════════════════ -->

<!-- Core -->
<script src="js/config.js"></script>
<script src="js/auth.js"></script>
<script src="js/data.js"></script>
<script src="js/sites.js"></script>
<script src="js/ui.js"></script>
<script src="js/render.js"></script>
<script src="js/bottomnav.js"></script>

<!-- Pages -->
<script src="js/pages/dashboard.js"></script>
<script src="js/pages/temperatures.js"></script>
<script src="js/pages/dlc.js"></script>
<script src="js/pages/orders.js"></script>
<script src="js/pages/consignes.js"></script>
<script src="js/pages/reports.js"></script>
<script src="js/pages/settings.js"></script>
<script src="js/pages/site-management.js"></script>
<script src="js/pages/user-management.js"></script>
<script src="js/pages/team.js"></script>
<script src="js/pages/profile.js"></script>
<script src="js/pages/notifications.js"></script>

<!-- Handlers & Init -->
<script src="js/handlers.js"></script>
<script src="js/app.js"></script>

</body>
</html>
